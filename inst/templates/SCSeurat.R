## p2886 # o6162 Sample1
setwd("/scratch/gtan/dev/p2886-Reza-SCSeurat")

library(ezRun)
param = list()
param[['cores']] = '1'
param[['ram']] = '30'
param[['scratch']] = '50'
param[['node']] = 'fgcz-c-042,fgcz-c-045,fgcz-c-046,fgcz-c-048,fgcz-c-056,fgcz-c-063,fgcz-c-065,fgcz-h-004,fgcz-h-006,fgcz-h-007,fgcz-h-008,fgcz-h-009,fgcz-h-010,fgcz-h-011,fgcz-h-012,fgcz-h-013,fgcz-h-014,fgcz-h-015,fgcz-h-016,fgcz-h-017,fgcz-h-018,fgcz-h-019'
param[['process_mode']] = 'SAMPLE'
param[['samples']] = 'Sample_1,Sample_2'
param[['name']] = 'SCSeurat'
param[['refBuild']] = 'Homo_sapiens/Ensembl/GRCh38.p10/Annotation/Release_91-2018-02-26'
param[['paired']] = 'false'
param[['strandMode']] = 'both'
param[['refFeatureFile']] = 'genes.gtf'
param[['featureLevel']] = 'gene'
param[['transcriptTypes']] = 'protein_coding'
param[['scProtocol']] = '10x'
param[['minCellsPerGene']] = '3'
param[['minGenesPerCell']] = '1000'
param[['maxGenesPerCell']] = '7000'
param[['maxMitoPercent']] = '25'
param[['pcs']] = '30'
param[['vars.to.regress']] = 'nFeature_RNA,percent.mt'
param[['resolution']] = '0.5'
param[['markersToShow']] = '10'
param[['knownMarkers']] = 'NPC=NES,SOX2,PAX6,ASPM,MKI67;NeuralCulture=PAX6,ASPM,MKI67,DCX,NEUROD1,STMN1,RBFOX3,MAP2,MAPT,ENO2,NEFM,SYP,DLG4,SYN1,CUX1,SATB2,TBR1,CARTPT,POU3F2,BCL11B,NR4A3,FOXP2,PPP1R1B,SLC17A7,SLC17A6,GRIN1,GRIN2B,GRIN2A,GRIA1,GRIA2,GRIA3,GRIA4,SLC6A1,GABRB1,GABRB2,GABRB3,GABRA2,GAD1,GAD2,GFAP,S100B,SCN2A;'
param[['runPseudoTime']] = 'false'
param[['all2allMarkers']] = 'false'
param[['specialOptions']] = ''
param[['mail']] = 'ge.tan@fgcz.ethz.ch'
param[['Rversion']] = 'Dev/R/3.6.0'
param[['dataRoot']] = '/srv/gstore/projects'
param[['resultDir']] = 'p2886/SCSeurat_40267_2019-10-21--11-16-42'
output = list()
output[['Name']] = 'Sample_1'
output[['Species']] = 'Homo sapiens (human)'
output[['refBuild']] = 'Homo_sapiens/Ensembl/GRCh38.p10/Annotation/Release_91-2018-02-26'
output[['refFeatureFile']] = 'genes.gtf'
output[['Static Report [Link]']] = 'p2886/SCSeurat_40267_2019-10-21--11-16-42/Sample_1_SCSeurat/00index.html'
output[['Live Report [Link]']] = 'http://fgcz-shiny.uzh.ch/fgcz_exploreSeurat_app/?data=p2886/SCSeurat_40267_2019-10-21--11-16-42/Sample_1_SCSeurat/SCSeurat-qjqanjknauze.rds'
output[['Report [File]']] = 'p2886/SCSeurat_40267_2019-10-21--11-16-42/Sample_1_SCSeurat'
output[['ResultDir [Link]']] = 'p2886/CellRangerCount_40261_2019-10-10--15-57-41/Sample_1'
input = list()
input[['Name']] = 'Sample_1'
input[['Species']] = 'Homo sapiens (human)'
input[['refBuild']] = 'Homo_sapiens/Ensembl/GRCh38.p10/Annotation/Release_91-2018-02-26'
input[['refFeatureFile']] = 'genes.gtf'
input[['featureLevel']] = 'gene'
input[['transcriptTypes']] = 'protein_coding,rRNA,tRNA,Mt_rRNA,Mt_tRNA'
input[['ResultDir']] = 'p2886/CellRangerCount_40261_2019-10-10--15-57-41/Sample_1'
input[['Report']] = 'p2886/CellRangerCount_40261_2019-10-10--15-57-41/Sample_1/web_summary.html'
input[['CountMatrix']] = 'p2886/CellRangerCount_40261_2019-10-10--15-57-41/Sample_1/filtered_feature_bc_matrix'
input[['Sample Id']] = 'bfs_204770'
input[['Order Id']] = '6162'
debug(ezMethodSCSeurat)
EzAppSCSeurat$new()$run(input=input, output=output, param=param)
